---
outline: deep
date: 2024-01-11
---

# 简介

像 C 这样的底层语言一般都有底层的内存管理接口，比如`malloc()`和`free()`。相反，**JavaScript 是在创建变量时自动进行内存分配，并且在不使用他们时"自动"释放**。释放的过程称为垃圾回收。这个"自动"是混乱的根源，并让 JavaScript 开发者错误的感觉他们可以不关心内存管理。

不管什么语言，内存的生命周期基本是一致的:

1. 分配你所需要的内存
2. 使用分配到的内存（读、写）
3. 不需要时将其释放/归还

> 所有语言第二部分都是明确的。第一和第三部分在底层语言中是明确的，但在像 JavaScript 这些高级语言中，大部分都是隐含的。

在 Chorme 浏览器中，V8 被限制了内存的使用`(x64约1.4G/1464MB)/(x86约0.7G/732MB)`，限制的主要原因是 V8 最初为浏览器而设计，不太可能遇到用大量内存的场景，更深层原因是 V8 垃圾回收机制的限制: _清理大量的内存垃圾很耗时间，这样会引起 JavaScript 线程暂停执行，导致性能和应用直线下降。_

## 内存泄漏

内存泄漏(Memory leak)是在计算机科学中，由于疏忽或错误造成程序未能释放已经不再使用的内存。

并非指内存在物理上的消失，而是应用程序分配某段内存后，由于设计错误，导致在释放改段内存之前就失去了对该段内存的控制，从而造成内存的浪费。

程序的运行需要内存。只要程序提出要求，操作系统或运行时(runtime)就必须供给内存。

对于持续运行的服务进程，必须及时释放不再用到的内存。否则，内存占用越来越高，轻则影响系统性能，重则导致进程崩溃。

## 常见的内存泄漏

## 参考

[JS 内存管理](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_management)  
[JS 内存泄漏和垃圾回收机制](https://juejin.cn/post/7083477868508315684)  
[面试官：说说 JavaScript 中内存泄漏的几种情况？](https://vue3js.cn/interview/JavaScript/memory_leak)
